# Задача: Реализация Панели Предпросмотра (Live Preview)

**Цель:** Создать область, где отображается финальный документ. Эта область должна имитировать лист A4 и масштабироваться под размер экрана пользователя, не ломая верстку самого резюме.

**Компоненты:** `PreviewLayout`, `A4Container`, `ZoomControls`.
**Связь:** Читает данные из Global Store и передает их в выбранный шаблон (например, `TemplateClassic`).

---

## План реализации

### Шаг 1: Layout области просмотра
1.  **Фон:** Отличный от цвета "бумаги" (например, светло-серый `#F3F4F6`), чтобы лист был виден контрастно.
2.  **Центрирование:** Лист должен быть всегда по центру экрана (Flexbox `justify-center items-start`).
3.  **Отступы:** `padding` вокруг листа, чтобы он не прилипал к краям экрана.

### Шаг 2: Контейнер A4 (The Paper)
Самый важный технический момент.
1.  **Размеры:**
    - Ширина строго `210mm`.
    - Минимальная высота `297mm`.
    - CSS класс: `bg-white shadow-2xl`.
2.  **Изоляция стилей:**
    - Убедиться, что внутри этого контейнера текст отображается именно так, как будет при печати (использовать те же шрифты).

### Шаг 3: Масштабирование (CSS Transform Scale)
Лист А4 (210мм) слишком широкий для многих экранов ноутбуков, если рядом открыт редактор.
1.  **Проблема:** Если просто уменьшить ширину листа в `%` или `px`, текст "поплывет" и строки разобьются не так, как при печати.
2.  **Решение:** Использовать CSS `transform: scale()`.
    - Вычислить доступную ширину родительского блока.
    - Если ширина контейнера меньше 210mm + отступы, вычислить коэффициент (например, 0.7).
    - Применить `style={{ transform: 'scale(0.7)', transformOrigin: 'top center' }}`.
    - Таким образом, визуально лист станет меньше, но для браузера он останется 210mm, и верстка текста сохранится идеальной.

### Шаг 4: Подключение Шаблона
1.  **Dynamic Import:**
    - В зависимости от переменной `selectedTemplate` в стейте, рендерить внутри А4 контейнера нужный компонент: `<TemplateClassic />`, `<TemplateModern />` или `<TemplateCreative />`.
2.  **Передача данных:**
    - Шаблон получает данные только как `props` или через хук `useResumeStore()`. Шаблон — это "глупый" компонент, он только отображает.

### Шаг 5: Контролы масштаба
1.  **Панель инструментов:** Плавающая панель снизу или сверху превью.
2.  **Кнопки:**
    - `Zoom In` (+) / `Zoom Out` (-).
    - `Fit to Screen` (Автоматически подобрать масштаб).
    - `Download PDF` (Триггер функции печати).

### Шаг 6: Мобильная адаптация
На телефонах 2 колонки не поместятся.
1.  **Табы:** Реализовать переключение "Редактор / Просмотр".
2.  **Поведение:**
    - Пользователь заполняет форму.
    - Нажимает таб "Просмотр".
    - Видит отмасштабированный лист резюме.

---

**Результат:**
Справа я вижу белый лист бумаги. Если я меняю размер окна браузера, лист уменьшается (Zoom out), но текст на нем не переносится на новые строки. Лист выглядит в точности как PDF, который выйдет из принтера.